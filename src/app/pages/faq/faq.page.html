<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>FAQ</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="expandAll()">
        <ion-icon name="expand" slot="icon-only"></ion-icon>
      </ion-button>
      <ion-button fill="clear" (click)="collapseAll()">
        <ion-icon name="contract" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">FAQ</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="faq-container">
    
    <!-- Header -->
    <div class="faq-header">
      <h2>Frequently Asked Questions</h2>
      <p>Find answers to common questions about using SpeakUp and improving your public speaking skills.</p>
    </div>

    <!-- Search -->
    <div class="search-section">
      <ion-searchbar 
        placeholder="Search questions..."
        (ionInput)="onSearchChange($event)"
        debounce="300">
      </ion-searchbar>
    </div>

    <!-- FAQ List -->
    <div class="faq-list">
      <ion-accordion-group *ngFor="let faq of filteredFaqs; let i = index">
        <ion-accordion [value]="faq.expanded ? 'open' : undefined">
          <ion-item slot="header" (click)="toggleFaq(i)">
            <ion-label>
              <h3>{{ faq.question }}</h3>
            </ion-label>
            <ion-icon 
              [name]="faq.expanded ? 'chevron-up' : 'chevron-down'" 
              slot="end"
              color="medium">
            </ion-icon>
          </ion-item>
          
          <div slot="content" class="faq-answer">
            <p>{{ faq.answer }}</p>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredFaqs.length === 0" class="empty-state">
      <ion-icon name="search-outline" color="medium"></ion-icon>
      <h3>No results found</h3>
      <p>Try searching with different keywords or check your spelling.</p>
    </div>

    <!-- Contact Support -->
    <ion-card class="contact-card">
      <ion-card-content>
        <div class="contact-content">
          <ion-icon name="help-circle" color="primary"></ion-icon>
          <div class="contact-info">
            <h3>Still need help?</h3>
            <p>Can't find what you're looking for? Our support team is here to help.</p>
          </div>
        </div>
        <ion-button expand="block" fill="outline" color="primary">
          <ion-icon name="mail" slot="start"></ion-icon>
          Contact Support
        </ion-button>
      </ion-card-content>
    </ion-card>

  </div>
</ion-content>
